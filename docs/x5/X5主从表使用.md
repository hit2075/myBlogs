## 主从表使用



#### 数据建模

- 在ontology中新建ontology文件
- 但是可以在一个ontology文件中创建多个关联的数据库表



##### 添加概念物品采购登记表

- 概念设置
- 概念名称：物品采购登记表
- 概念标识：TE_GoodsBuyReg
- 从已定义的关系中选择：创建人、创建人ID、创建时间、描述
- 添加新关系：单号



##### 添加概念物品采购登记表_明细

- 概念设置
- 概念名称：物品采购登记表_明细
- 概念标识：TE_GoodsBuyReg_Dtl
- 从已定义的关系中选择：物品名称、物品编码、计量单位、规格型号
- 添加新关系：采购数量
- 添加新关系：物品采购登记表ID（预留）



##### 生成数据库表

选择新建的两个表进行新建



##### 标准动作设置

在标准动作设置页面，分别选择两个表，点击添加



####流程建模 

创建process文件，进行动作设置



#### 页面建模

创建W文件，依据向导进行配置



#### 权限菜单

配置test.function.xml文件



#### 配置权限

用户——》角色——》关联用户的过程



### 主从表关联删除

#### Oracle数据库

使用Oracle特性进行关联删除

#### X5的实现

- 在主表中创建从表的主键：fGoodsBuyReg_Dtl_ID
- 关系类型选择：TE_GoodsBuyReg_Dtl
- 互逆选择：fGoodsBuyRegID
- 单值取消
- 高级：composition



- 从表改造，关系类型选择：TE_GoodsBuyReg
- 在“映射设置”——》“字段映射”中注明“TE_GoodsBuyReg”的类型为String





